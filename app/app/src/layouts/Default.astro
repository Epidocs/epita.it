---
import '@fontsource/roboto/400.css'
import '@fontsource/roboto/500.css'
import '@fontsource/roboto/700.css'
import jqueryJs from 'jquery/dist/jquery.slim.min.js?url'
import popperJs from '@popperjs/core/dist/umd/popper.min.js?url'
import '~/styles/tiles.css'
import scriptJs from '~/scripts/script.js?url'

import Layout from '~/layouts/Layout.astro'
import type { Props as BaseProps } from '~/layouts/Layout.astro'
import Head from '../components/Head.astro'
import Modal from '../components/Modal.astro'
import Navbar from '../components/Navbar.astro'
import Newsline from '../components/Newsline.astro'
import Footer from '~/components/Footer.astro'

export interface Props extends BaseProps
{
	noScripts?: boolean
	newsline?: boolean
	textalignleft?: boolean
}

const {
	noScripts = false,
	newsline = false,
	textalignleft = false,
} = Astro.props

const baseProps: BaseProps = {
	...Astro.props,
}
---

<Layout {...baseProps}>

	<Fragment name="head">
		<Head />
	</Fragment>

	<Modal />

	<Navbar />

	<Newsline newsline={newsline} />

	<div id="main" class={textalignleft ? 'text-left' : undefined}>
		<div class="container">

			<slot />

		</div>
	</div>

	<Footer />

</Layout>

{!noScripts && (
	<script src={jqueryJs}></script>
	<script src={popperJs}></script>
	<script src={scriptJs}></script>
)}

<style lang="scss" is:global>
html, body {
	height: 100%;
}
body {
	font-family: 'Roboto', sans-serif;
	background: #204060;
	display: flex;
	margin: 0;
	padding: 0;
	flex-direction: column;
	overflow-x: hidden;
	color: #fff;
}

a { color: #50a0f0 }
a:hover { color: #4080c0 }

p img { height: 1rem }

*:last-child { margin-bottom: 0 }

#main {
	max-width: 960px;
	width: 100%;
	margin: 0 auto;
	padding: 20px 0;
	flex: 1 0;
}
#main.smallscreen {
	text-align: center;
}
#main h1 { font-size: 4em; font-weight: bold }
#main.smallscreen h1 { font-size: 3em }
#main.smallscreen .tiles-grid {
	margin: 0 auto;
	text-align: initial;
}

#main .container > .tiles-grd { margin-bottom: 1rem }
#main .tiles-grid .invalid:before {
	/* background: ; */
	background-image: url('/assets/missing.png');
	background-size: cover;
	position: absolute;
	width: 100%;
	height: 100%;
	content: '';
	opacity: .2;
}
#main .tiles-grid .tile-small .branding-icon,
#main .tiles-grid .tile-small-wide .branding-icon,
#main .tiles-grid .tile-medium .branding-icon,
#main .tiles-grid .tile-wide .branding-icon,
#main .tiles-grid .tile-large .branding-icon,
#main .tiles-grid .tile-app .branding-icon {
	position: absolute;
	left: 0;
	top: 0;
	right: 0;
	padding: 5px 5px 0;
	text-align: right;
	font-size: 1rem;
	font-weight: 500;
	overflow: hidden;
	white-space: nowrap;
	text-overflow: ellipsis;
	z-index: 2;
}
</style>
